<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wordle version pour TIMCSF</title>
    <style>
        .mot span {
            display: inline-block;
            min-width: 1em;
            font-size: 2em;
            text-align: center;
        }

        .vert {
            background-color: aquamarine;
        }

        .jaune {
            background-color: cornsilk;
        }

        .gris {
            background-color: gainsboro;
        }
    </style>
</head>

<body>
    <h1>Wordle</h1>
    <form action="index.html">
        <fieldset>
            <p><button type="button" id="btnPiger">Piger un mot!</button></p>
        </fieldset>
        <fieldset>
            <p>
                <label for="champMot">Entrer un mot</label>
                <input id="champMot" name="champMot" type="text">
                <button type="button" id="btnJouer">Jouer</button>
            </p>
            <p>
                Essai numéro <span id="nombreEssai"> 0 </span>
            </p>
        </fieldset>

    </form>
    <section class="mastermind">
        <!-- (p.mot#mot$>span*5)*6 -->
        <p class="mot" id="mot1"><span></span><span></span><span></span><span></span><span></span></p>
        <p class="mot" id="mot2"><span></span><span></span><span></span><span></span><span></span></p>
        <p class="mot" id="mot3"><span></span><span></span><span></span><span></span><span></span></p>
        <p class="mot" id="mot4"><span></span><span></span><span></span><span></span><span></span></p>
        <p class="mot" id="mot5"><span></span><span></span><span></span><span></span><span></span></p>
        <p class="mot" id="mot6"><span></span><span></span><span></span><span></span><span></span></p>
    </section>
    <script>
        let wordle = {
            strMotHasard: null,
            intNombreEssai: 0,
            pigerMot: function () {
                this.strMotHasard = "ravin";
                console.log(this.strMotHasard);
            },
            evaluerMot: function (strMotAEvaluer) {
                if (strMotAEvaluer != "" && this.intNombreEssai < 6) {
                    this.intNombreEssai += 1;
                    for (let intCpt = 0; intCpt < strMotAEvaluer.length; intCpt++) {
                        console.log(`#mot${this.intNombreEssai} > span:nth-of-type(${intCpt+1})`);
                        let tagSpan = document.querySelector(
                            `#mot${this.intNombreEssai} > span:nth-of-type(${intCpt+1})`);
                        let strLettre = strMotAEvaluer.charAt(intCpt);
                        tagSpan.innerText = strLettre;
                        // pour chaque lettre du mot vérifier si la lettre existe dans le mot
                        // si elle est au bon endroit c'est vert
                        // sinon c'est jaune
                        // sinon c'est gris
                        if (this.strMotHasard.indexOf(strLettre) != -1) {
                            if (strMotAEvaluer.charAt(intCpt) == this.strMotHasard.charAt(intCpt)) {
                                tagSpan.className = "vert";
                            } else {
                                tagSpan.className = "jaune";
                            }
                        } else {
                            tagSpan.className = "gris";

                        }

                    }
                }
            }
        };
        document.getElementById("btnPiger").addEventListener("click", function () {
            wordle.pigerMot();
        })
        document.getElementById("btnJouer").addEventListener("click", function () {
            wordle.evaluerMot(document.getElementById("champMot").value);
        })
    </script>
</body>

</html>